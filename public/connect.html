<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Inscription - hzflix</title>
    <script type="module">
        // Importer les fonctions nécessaires de Firebase
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.4.0/firebase-app.js";
        import { getAuth, createUserWithEmailAndPassword } from "https://www.gstatic.com/firebasejs/11.4.0/firebase-auth.js";

        // Configuration Firebase
        const firebaseConfig = {
            apiKey: "AIzaSyC-Fy4lvfX-Nr6F640Jmeur7y2uHBpli3Q", // Ta clé API
            authDomain: "hzflix.firebaseapp.com", // Auth domain pour l'authentification
            projectId: "hzflix", // Identifiant du projet
            storageBucket: "hzflix.firebasestorage.app", // Stockage des fichiers
            messagingSenderId: "626892229265", // ID d'envoi des messages
            appId: "1:626892229265:web:2a7148e39e2de1757bcd30", // ID de l'application
            measurementId: "G-BJFG2DCVBF" // ID de mesure pour les analytics
        };

        // Initialiser Firebase
        const app = initializeApp(firebaseConfig);
        const auth = getAuth();

        // Fonction pour inscrire un utilisateur avec un email et un mot de passe
        function signUpUser() {
            const email = document.getElementById('email').value;
            const password = document.getElementById('password').value;

            if (!email || !password) {
                alert("Veuillez remplir tous les champs.");
                return;
            }

            // Créer un utilisateur avec l'email et le mot de passe
            createUserWithEmailAndPassword(auth, email, password)
                .then((userCredential) => {
                    // L'utilisateur est inscrit avec succès
                    const user = userCredential.user;
                    console.log("Utilisateur inscrit : ", user);
                    alert("Merci pour votre inscription ! Vous pouvez maintenant vous connecter.");
                    window.location.href = "login.html";  // Redirection vers la page de connexion
                })
                .catch((error) => {
                    // Afficher l'erreur dans une alerte
                    const errorCode = error.code;
                    const errorMessage = error.message;
                    alert("Erreur : " + error.message); // Afficher l'erreur
                    console.error("Erreur lors de l'inscription : ", errorCode, errorMessage);
                });
        }
    </script>
</head>
<body>
    <div>
        <h2>Inscription</h2>
        <input type="email" id="email" placeholder="Email" required>
        <input type="password" id="password" placeholder="Mot de passe" required>
        <button onclick="signUpUser()">S'inscrire</button>
    </div>
</body>
</html>
